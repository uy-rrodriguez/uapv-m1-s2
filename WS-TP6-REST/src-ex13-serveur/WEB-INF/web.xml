<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    version="2.5">
    
	<servlet>
		<servlet-name>ServletREST</servlet-name>
		<servlet-class>org.glassfish.jersey.servlet.ServletContainer</servlet-class>
		<init-param>
			<param-name>jersey.config.server.provider.packages</param-name>
			<param-value>ex13</param-value>
		</init-param>
		<load-on-startup>1</load-on-startup>
	</servlet>
	<servlet-mapping>
		<servlet-name>ServletREST</servlet-name>
		<url-pattern>/rest/*</url-pattern>
	</servlet-mapping>
	
	
	<!-- Configuration d'acces pour l'administrateur -->
	<security-constraint>
         <web-resource-collection>
             <web-resource-name>DelContact</web-resource-name>
             <url-pattern>/rest/contact/*</url-pattern>
             <http-method>DELETE</http-method>
         </web-resource-collection>
         <auth-constraint>
             <role-name>admin</role-name> 
         </auth-constraint>
    </security-constraint>
	
	
	<!-- Configuration d'acces pour un user authentifie -->
	<security-constraint>
         <web-resource-collection>
             <web-resource-name>GetCarnet</web-resource-name>
             <url-pattern>/rest/carnet</url-pattern>
             <http-method>GET</http-method>
         </web-resource-collection>
         <auth-constraint>
             <role-name>user1</role-name>
             <role-name>admin</role-name>
         </auth-constraint>
    </security-constraint>
	
	
	<!-- Configuration de login -->
	<login-config>
        <auth-method>BASIC</auth-method>
        <realm-name>file</realm-name>
        <!-- 
        <form-login-config>
            <form-login-page>/login.xhtml</form-login-page>
            <form-error-page>/error.xhtml</form-error-page>
        </form-login-config>
         -->
    </login-config>
    
    <security-role>
        <role-name>admin</role-name>
    </security-role>
    <security-role>
        <role-name>user1</role-name>
    </security-role>
</web-app>